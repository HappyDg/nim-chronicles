; NativeColors on Unix will give AnsiColors
; To make this test work on both Unix and Windows we would need a flag where
; we can set the OS to test for or test on different outputs per OS
; For now, this test should only be run on Unix, as it will fail on Windows

program=long_lines
chronicles_sinks="textlines[stdout]"
chronicles_colors=NativeColors
chronicles_timestamps=None

[Output]
stdout="""[32mINF[0m [1mlong info                                 [0m [32mthread[0m=[94m0[0m [32mfile[0m=[94mlong_lines.nim:10[0m [32mstr[0m=[94m"some multiline\nstring\nmore lines"[0m
[93mWRN[0m [1mlong warning                              [0m [93mthread[0m=[94m0[0m [93mstr[0m=[94m"some multiline\nstring\nmore lines"[0m
[32mINF[0m [1mlong info[0m
  [34mthread: [1m0
[0m  [34mstr: [1msome multiline
       string
       more lines
[0m
[93mWRN[0m [1mlong warning[0m
  [34mthread: [1m0
[0m  [34mstr: [1msome multiline
       string
       more lines
[0m  [34mz: [1m10
[0m
"""
